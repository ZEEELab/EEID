{"ast":null,"code":"/**\n * @author Andrei Kashcha (aka anvaka) / https://github.com/anvaka\n */\n\nmodule.exports = dragndrop;\nvar documentEvents = require('../Utils/documentEvents.js');\nvar browserInfo = require('../Utils/browserInfo.js');\nvar findElementPosition = require('../Utils/findElementPosition.js');\n\n// TODO: Move to input namespace\n// TODO: Methods should be extracted into the prototype. This class\n// does not need to consume so much memory for every tracked element\nfunction dragndrop(element) {\n  var start,\n    drag,\n    end,\n    scroll,\n    prevSelectStart,\n    prevDragStart,\n    startX = 0,\n    startY = 0,\n    dragObject,\n    touchInProgress = false,\n    pinchZoomLength = 0,\n    getMousePos = function (e) {\n      var posx = 0,\n        posy = 0;\n      e = e || window.event;\n      if (e.pageX || e.pageY) {\n        posx = e.pageX;\n        posy = e.pageY;\n      } else if (e.clientX || e.clientY) {\n        posx = e.clientX + window.document.body.scrollLeft + window.document.documentElement.scrollLeft;\n        posy = e.clientY + window.document.body.scrollTop + window.document.documentElement.scrollTop;\n      }\n      return [posx, posy];\n    },\n    move = function (e, clientX, clientY) {\n      if (drag) {\n        drag(e, {\n          x: clientX - startX,\n          y: clientY - startY\n        });\n      }\n      startX = clientX;\n      startY = clientY;\n    },\n    stopPropagation = function (e) {\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } else {\n        e.cancelBubble = true;\n      }\n    },\n    preventDefault = function (e) {\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n    },\n    handleDisabledEvent = function (e) {\n      stopPropagation(e);\n      return false;\n    },\n    handleMouseMove = function (e) {\n      e = e || window.event;\n      move(e, e.clientX, e.clientY);\n    },\n    handleMouseDown = function (e) {\n      e = e || window.event;\n      if (touchInProgress) {\n        // modern browsers will fire mousedown for touch events too\n        // we do not want this, since touch is handled separately.\n        stopPropagation(e);\n        return false;\n      }\n      // for IE, left click == 1\n      // for Firefox, left click == 0\n      var isLeftButton = e.button === 1 && window.event !== null || e.button === 0;\n      if (isLeftButton) {\n        startX = e.clientX;\n        startY = e.clientY;\n\n        // TODO: bump zIndex?\n        dragObject = e.target || e.srcElement;\n        if (start) {\n          start(e, {\n            x: startX,\n            y: startY\n          });\n        }\n        documentEvents.on('mousemove', handleMouseMove);\n        documentEvents.on('mouseup', handleMouseUp);\n        stopPropagation(e);\n        // TODO: What if event already there? Not bullet proof:\n        prevSelectStart = window.document.onselectstart;\n        prevDragStart = window.document.ondragstart;\n        window.document.onselectstart = handleDisabledEvent;\n        dragObject.ondragstart = handleDisabledEvent;\n\n        // prevent text selection (except IE)\n        return false;\n      }\n    },\n    handleMouseUp = function (e) {\n      e = e || window.event;\n      documentEvents.off('mousemove', handleMouseMove);\n      documentEvents.off('mouseup', handleMouseUp);\n      window.document.onselectstart = prevSelectStart;\n      dragObject.ondragstart = prevDragStart;\n      dragObject = null;\n      if (end) {\n        end(e);\n      }\n    },\n    handleMouseWheel = function (e) {\n      if (typeof scroll !== 'function') {\n        return;\n      }\n      e = e || window.event;\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      e.returnValue = false;\n      var delta,\n        mousePos = getMousePos(e),\n        elementOffset = findElementPosition(element),\n        relMousePos = {\n          x: mousePos[0] - elementOffset[0],\n          y: mousePos[1] - elementOffset[1]\n        };\n      if (e.wheelDelta) {\n        delta = e.wheelDelta / 360; // Chrome/Safari\n      } else {\n        delta = e.detail / -9; // Mozilla\n      }\n\n      scroll(e, delta, relMousePos);\n    },\n    updateScrollEvents = function (scrollCallback) {\n      if (!scroll && scrollCallback) {\n        // client is interested in scrolling. Start listening to events:\n        if (browserInfo.browser === 'webkit') {\n          element.addEventListener('mousewheel', handleMouseWheel, false); // Chrome/Safari\n        } else {\n          element.addEventListener('DOMMouseScroll', handleMouseWheel, false); // Others\n        }\n      } else if (scroll && !scrollCallback) {\n        if (browserInfo.browser === 'webkit') {\n          element.removeEventListener('mousewheel', handleMouseWheel, false); // Chrome/Safari\n        } else {\n          element.removeEventListener('DOMMouseScroll', handleMouseWheel, false); // Others\n        }\n      }\n\n      scroll = scrollCallback;\n    },\n    getPinchZoomLength = function (finger1, finger2) {\n      return (finger1.clientX - finger2.clientX) * (finger1.clientX - finger2.clientX) + (finger1.clientY - finger2.clientY) * (finger1.clientY - finger2.clientY);\n    },\n    handleTouchMove = function (e) {\n      if (e.touches.length === 1) {\n        stopPropagation(e);\n        var touch = e.touches[0];\n        move(e, touch.clientX, touch.clientY);\n      } else if (e.touches.length === 2) {\n        // it's a zoom:\n        var currentPinchLength = getPinchZoomLength(e.touches[0], e.touches[1]);\n        var delta = 0;\n        if (currentPinchLength < pinchZoomLength) {\n          delta = -1;\n        } else if (currentPinchLength > pinchZoomLength) {\n          delta = 1;\n        }\n        scroll(e, delta, {\n          x: e.touches[0].clientX,\n          y: e.touches[0].clientY\n        });\n        pinchZoomLength = currentPinchLength;\n        stopPropagation(e);\n        preventDefault(e);\n      }\n    },\n    handleTouchEnd = function (e) {\n      touchInProgress = false;\n      documentEvents.off('touchmove', handleTouchMove);\n      documentEvents.off('touchend', handleTouchEnd);\n      documentEvents.off('touchcancel', handleTouchEnd);\n      dragObject = null;\n      if (end) {\n        end(e);\n      }\n    },\n    handleSignleFingerTouch = function (e, touch) {\n      stopPropagation(e);\n      preventDefault(e);\n      startX = touch.clientX;\n      startY = touch.clientY;\n      dragObject = e.target || e.srcElement;\n      if (start) {\n        start(e, {\n          x: startX,\n          y: startY\n        });\n      }\n      // TODO: can I enter into the state when touch is in progress\n      // but it's still a single finger touch?\n      if (!touchInProgress) {\n        touchInProgress = true;\n        documentEvents.on('touchmove', handleTouchMove);\n        documentEvents.on('touchend', handleTouchEnd);\n        documentEvents.on('touchcancel', handleTouchEnd);\n      }\n    },\n    handleTouchStart = function (e) {\n      if (e.touches.length === 1) {\n        return handleSignleFingerTouch(e, e.touches[0]);\n      } else if (e.touches.length === 2) {\n        // handleTouchMove() will care about pinch zoom.\n        stopPropagation(e);\n        preventDefault(e);\n        pinchZoomLength = getPinchZoomLength(e.touches[0], e.touches[1]);\n      }\n      // don't care about the rest.\n    };\n\n  element.addEventListener('mousedown', handleMouseDown);\n  element.addEventListener('touchstart', handleTouchStart);\n  return {\n    onStart: function (callback) {\n      start = callback;\n      return this;\n    },\n    onDrag: function (callback) {\n      drag = callback;\n      return this;\n    },\n    onStop: function (callback) {\n      end = callback;\n      return this;\n    },\n    /**\n     * Occurs when mouse wheel event happens. callback = function(e, scrollDelta, scrollPoint);\n     */\n    onScroll: function (callback) {\n      updateScrollEvents(callback);\n      return this;\n    },\n    release: function () {\n      // TODO: could be unsafe. We might wanna release dragObject, etc.\n      element.removeEventListener('mousedown', handleMouseDown);\n      element.removeEventListener('touchstart', handleTouchStart);\n      documentEvents.off('mousemove', handleMouseMove);\n      documentEvents.off('mouseup', handleMouseUp);\n      documentEvents.off('touchmove', handleTouchMove);\n      documentEvents.off('touchend', handleTouchEnd);\n      documentEvents.off('touchcancel', handleTouchEnd);\n      updateScrollEvents(null);\n    }\n  };\n}","map":{"version":3,"names":["module","exports","dragndrop","documentEvents","require","browserInfo","findElementPosition","element","start","drag","end","scroll","prevSelectStart","prevDragStart","startX","startY","dragObject","touchInProgress","pinchZoomLength","getMousePos","e","posx","posy","window","event","pageX","pageY","clientX","clientY","document","body","scrollLeft","documentElement","scrollTop","move","x","y","stopPropagation","cancelBubble","preventDefault","handleDisabledEvent","handleMouseMove","handleMouseDown","isLeftButton","button","target","srcElement","on","handleMouseUp","onselectstart","ondragstart","off","handleMouseWheel","returnValue","delta","mousePos","elementOffset","relMousePos","wheelDelta","detail","updateScrollEvents","scrollCallback","browser","addEventListener","removeEventListener","getPinchZoomLength","finger1","finger2","handleTouchMove","touches","length","touch","currentPinchLength","handleTouchEnd","handleSignleFingerTouch","handleTouchStart","onStart","callback","onDrag","onStop","onScroll","release"],"sources":["/Users/zamanlh/github/MMM_Worksheets/networksir/node_modules/vivagraphjs/src/Input/dragndrop.js"],"sourcesContent":["/**\n * @author Andrei Kashcha (aka anvaka) / https://github.com/anvaka\n */\n\nmodule.exports = dragndrop;\n\nvar documentEvents = require('../Utils/documentEvents.js');\nvar browserInfo = require('../Utils/browserInfo.js');\nvar findElementPosition = require('../Utils/findElementPosition.js');\n\n// TODO: Move to input namespace\n// TODO: Methods should be extracted into the prototype. This class\n// does not need to consume so much memory for every tracked element\nfunction dragndrop(element) {\n    var start,\n        drag,\n        end,\n        scroll,\n        prevSelectStart,\n        prevDragStart,\n\n        startX = 0,\n        startY = 0,\n        dragObject,\n        touchInProgress = false,\n        pinchZoomLength = 0,\n\n        getMousePos = function (e) {\n            var posx = 0,\n                posy = 0;\n\n            e = e || window.event;\n\n            if (e.pageX || e.pageY) {\n                posx = e.pageX;\n                posy = e.pageY;\n            } else if (e.clientX || e.clientY) {\n                posx = e.clientX + window.document.body.scrollLeft + window.document.documentElement.scrollLeft;\n                posy = e.clientY + window.document.body.scrollTop + window.document.documentElement.scrollTop;\n            }\n\n            return [posx, posy];\n        },\n\n        move = function (e, clientX, clientY) {\n            if (drag) {\n                drag(e, {x : clientX - startX, y : clientY - startY });\n            }\n\n            startX = clientX;\n            startY = clientY;\n        },\n\n        stopPropagation = function (e) {\n            if (e.stopPropagation) { e.stopPropagation(); } else { e.cancelBubble = true; }\n        },\n        preventDefault = function (e) {\n            if (e.preventDefault) { e.preventDefault(); }\n        },\n\n        handleDisabledEvent = function (e) {\n            stopPropagation(e);\n            return false;\n        },\n\n        handleMouseMove = function (e) {\n            e = e || window.event;\n\n            move(e, e.clientX, e.clientY);\n        },\n\n        handleMouseDown = function (e) {\n            e = e || window.event;\n            if (touchInProgress) {\n                // modern browsers will fire mousedown for touch events too\n                // we do not want this, since touch is handled separately.\n                stopPropagation(e);\n                return false;\n            }\n            // for IE, left click == 1\n            // for Firefox, left click == 0\n            var isLeftButton = ((e.button === 1 && window.event !== null) || e.button === 0);\n\n            if (isLeftButton) {\n                startX = e.clientX;\n                startY = e.clientY;\n\n                // TODO: bump zIndex?\n                dragObject = e.target || e.srcElement;\n\n                if (start) { start(e, {x: startX, y : startY}); }\n\n                documentEvents.on('mousemove', handleMouseMove);\n                documentEvents.on('mouseup', handleMouseUp);\n\n\n                stopPropagation(e);\n                // TODO: What if event already there? Not bullet proof:\n                prevSelectStart = window.document.onselectstart;\n                prevDragStart = window.document.ondragstart;\n\n                window.document.onselectstart = handleDisabledEvent;\n                dragObject.ondragstart = handleDisabledEvent;\n\n                // prevent text selection (except IE)\n                return false;\n            }\n        },\n\n        handleMouseUp = function (e) {\n            e = e || window.event;\n\n            documentEvents.off('mousemove', handleMouseMove);\n            documentEvents.off('mouseup', handleMouseUp);\n\n            window.document.onselectstart = prevSelectStart;\n            dragObject.ondragstart = prevDragStart;\n            dragObject = null;\n            if (end) { end(e); }\n        },\n\n        handleMouseWheel = function (e) {\n            if (typeof scroll !== 'function') {\n                return;\n            }\n\n            e = e || window.event;\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n\n            e.returnValue = false;\n            var delta,\n                mousePos = getMousePos(e),\n                elementOffset = findElementPosition(element),\n                relMousePos = {\n                    x: mousePos[0] - elementOffset[0],\n                    y: mousePos[1] - elementOffset[1]\n                };\n\n            if (e.wheelDelta) {\n                delta = e.wheelDelta / 360; // Chrome/Safari\n            } else {\n                delta = e.detail / -9; // Mozilla\n            }\n\n            scroll(e, delta, relMousePos);\n        },\n\n        updateScrollEvents = function (scrollCallback) {\n            if (!scroll && scrollCallback) {\n                // client is interested in scrolling. Start listening to events:\n                if (browserInfo.browser === 'webkit') {\n                    element.addEventListener('mousewheel', handleMouseWheel, false); // Chrome/Safari\n                } else {\n                    element.addEventListener('DOMMouseScroll', handleMouseWheel, false); // Others\n                }\n            } else if (scroll && !scrollCallback) {\n                if (browserInfo.browser === 'webkit') {\n                    element.removeEventListener('mousewheel', handleMouseWheel, false); // Chrome/Safari\n                } else {\n                    element.removeEventListener('DOMMouseScroll', handleMouseWheel, false); // Others\n                }\n            }\n\n            scroll = scrollCallback;\n        },\n\n        getPinchZoomLength = function(finger1, finger2) {\n            return (finger1.clientX - finger2.clientX) * (finger1.clientX - finger2.clientX) +\n                   (finger1.clientY - finger2.clientY) * (finger1.clientY - finger2.clientY);\n        },\n\n        handleTouchMove = function (e) {\n            if (e.touches.length === 1) {\n                stopPropagation(e);\n\n                var touch = e.touches[0];\n                move(e, touch.clientX, touch.clientY);\n            } else if (e.touches.length === 2) {\n                // it's a zoom:\n                var currentPinchLength = getPinchZoomLength(e.touches[0], e.touches[1]);\n                var delta = 0;\n                if (currentPinchLength < pinchZoomLength) {\n                    delta = -1;\n                } else if (currentPinchLength > pinchZoomLength) {\n                    delta = 1;\n                }\n                scroll(e, delta, {x: e.touches[0].clientX, y: e.touches[0].clientY});\n                pinchZoomLength = currentPinchLength;\n                stopPropagation(e);\n                preventDefault(e);\n            }\n        },\n\n        handleTouchEnd = function (e) {\n            touchInProgress = false;\n            documentEvents.off('touchmove', handleTouchMove);\n            documentEvents.off('touchend', handleTouchEnd);\n            documentEvents.off('touchcancel', handleTouchEnd);\n            dragObject = null;\n            if (end) { end(e); }\n        },\n\n        handleSignleFingerTouch = function (e, touch) {\n            stopPropagation(e);\n            preventDefault(e);\n\n            startX = touch.clientX;\n            startY = touch.clientY;\n\n            dragObject = e.target || e.srcElement;\n\n            if (start) { start(e, {x: startX, y : startY}); }\n            // TODO: can I enter into the state when touch is in progress\n            // but it's still a single finger touch?\n            if (!touchInProgress) {\n                touchInProgress = true;\n                documentEvents.on('touchmove', handleTouchMove);\n                documentEvents.on('touchend', handleTouchEnd);\n                documentEvents.on('touchcancel', handleTouchEnd);\n            }\n        },\n\n        handleTouchStart = function (e) {\n            if (e.touches.length === 1) {\n                return handleSignleFingerTouch(e, e.touches[0]);\n            } else if (e.touches.length === 2) {\n                // handleTouchMove() will care about pinch zoom.\n                stopPropagation(e);\n                preventDefault(e);\n\n                pinchZoomLength = getPinchZoomLength(e.touches[0], e.touches[1]);\n\n            }\n            // don't care about the rest.\n        };\n\n\n    element.addEventListener('mousedown', handleMouseDown);\n    element.addEventListener('touchstart', handleTouchStart);\n\n    return {\n        onStart : function (callback) {\n            start = callback;\n            return this;\n        },\n\n        onDrag : function (callback) {\n            drag = callback;\n            return this;\n        },\n\n        onStop : function (callback) {\n            end = callback;\n            return this;\n        },\n\n        /**\n         * Occurs when mouse wheel event happens. callback = function(e, scrollDelta, scrollPoint);\n         */\n        onScroll : function (callback) {\n            updateScrollEvents(callback);\n            return this;\n        },\n\n        release : function () {\n            // TODO: could be unsafe. We might wanna release dragObject, etc.\n            element.removeEventListener('mousedown', handleMouseDown);\n            element.removeEventListener('touchstart', handleTouchStart);\n\n            documentEvents.off('mousemove', handleMouseMove);\n            documentEvents.off('mouseup', handleMouseUp);\n            documentEvents.off('touchmove', handleTouchMove);\n            documentEvents.off('touchend', handleTouchEnd);\n            documentEvents.off('touchcancel', handleTouchEnd);\n\n            updateScrollEvents(null);\n        }\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}