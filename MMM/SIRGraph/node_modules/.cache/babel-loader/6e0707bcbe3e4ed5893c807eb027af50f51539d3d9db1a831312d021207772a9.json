{"ast":null,"code":"var documentEvents = require('../Utils/documentEvents.js');\nmodule.exports = webglInputEvents;\n\n/**\n * Monitors graph-related mouse input in webgl graphics and notifies subscribers.\n *\n * @param {Viva.Graph.View.webglGraphics} webglGraphics\n */\nfunction webglInputEvents(webglGraphics) {\n  if (webglGraphics.webglInputEvents) {\n    // Don't listen twice, if we are already attached to this graphics:\n    return webglGraphics.webglInputEvents;\n  }\n  var mouseCapturedNode = null,\n    mouseEnterCallback = [],\n    mouseLeaveCallback = [],\n    mouseDownCallback = [],\n    mouseUpCallback = [],\n    mouseMoveCallback = [],\n    clickCallback = [],\n    dblClickCallback = [],\n    prevSelectStart,\n    boundRect;\n  var root = webglGraphics.getGraphicsRoot();\n  startListen(root);\n  var api = {\n    mouseEnter: mouseEnter,\n    mouseLeave: mouseLeave,\n    mouseDown: mouseDown,\n    mouseUp: mouseUp,\n    mouseMove: mouseMove,\n    click: click,\n    dblClick: dblClick,\n    mouseCapture: mouseCapture,\n    releaseMouseCapture: releaseMouseCapture\n  };\n\n  // TODO I don't remember why this is needed:\n  webglGraphics.webglInputEvents = api;\n  return api;\n  function releaseMouseCapture() {\n    mouseCapturedNode = null;\n  }\n  function mouseCapture(node) {\n    mouseCapturedNode = node;\n  }\n  function dblClick(callback) {\n    if (typeof callback === 'function') {\n      dblClickCallback.push(callback);\n    }\n    return api;\n  }\n  function click(callback) {\n    if (typeof callback === 'function') {\n      clickCallback.push(callback);\n    }\n    return api;\n  }\n  function mouseMove(callback) {\n    if (typeof callback === 'function') {\n      mouseMoveCallback.push(callback);\n    }\n    return api;\n  }\n  function mouseUp(callback) {\n    if (typeof callback === 'function') {\n      mouseUpCallback.push(callback);\n    }\n    return api;\n  }\n  function mouseDown(callback) {\n    if (typeof callback === 'function') {\n      mouseDownCallback.push(callback);\n    }\n    return api;\n  }\n  function mouseLeave(callback) {\n    if (typeof callback === 'function') {\n      mouseLeaveCallback.push(callback);\n    }\n    return api;\n  }\n  function mouseEnter(callback) {\n    if (typeof callback === 'function') {\n      mouseEnterCallback.push(callback);\n    }\n    return api;\n  }\n  function preciseCheck(nodeUI, x, y) {\n    if (nodeUI && nodeUI.size) {\n      var pos = nodeUI.position,\n        half = nodeUI.size;\n      return pos.x - half < x && x < pos.x + half && pos.y - half < y && y < pos.y + half;\n    }\n    return true;\n  }\n  function getNodeAtClientPos(pos) {\n    return webglGraphics.getNodeAtClientPos(pos, preciseCheck);\n  }\n  function stopPropagation(e) {\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      e.cancelBubble = true;\n    }\n  }\n  function handleDisabledEvent(e) {\n    stopPropagation(e);\n    return false;\n  }\n  function invoke(callbacksChain, args) {\n    var i, stopPropagation;\n    for (i = 0; i < callbacksChain.length; i += 1) {\n      stopPropagation = callbacksChain[i].apply(undefined, args);\n      if (stopPropagation) {\n        return true;\n      }\n    }\n  }\n  function startListen(root) {\n    var pos = {\n        x: 0,\n        y: 0\n      },\n      lastFound = null,\n      lastUpdate = 1,\n      lastClickTime = +new Date(),\n      handleMouseMove = function (e) {\n        invoke(mouseMoveCallback, [lastFound, e]);\n        pos.x = e.clientX;\n        pos.y = e.clientY;\n      },\n      handleMouseUp = function () {\n        documentEvents.off('mousemove', handleMouseMove);\n        documentEvents.off('mouseup', handleMouseUp);\n      },\n      updateBoundRect = function () {\n        boundRect = root.getBoundingClientRect();\n      };\n    window.addEventListener('resize', updateBoundRect);\n    updateBoundRect();\n\n    // mouse move inside container serves only to track mouse enter/leave events.\n    root.addEventListener('mousemove', function (e) {\n      if (mouseCapturedNode) {\n        return;\n      }\n      if (lastUpdate++ % 7 === 0) {\n        // since there is no bullet proof method to detect resize\n        // event, we preemptively update the bounding rectangle\n        updateBoundRect();\n        lastUpdate = 1;\n      }\n      var cancelBubble = false,\n        node;\n      pos.x = e.clientX - boundRect.left;\n      pos.y = e.clientY - boundRect.top;\n      node = getNodeAtClientPos(pos);\n      if (node && lastFound !== node) {\n        if (lastFound) {\n          invoke(mouseLeaveCallback, [lastFound]);\n        }\n        lastFound = node;\n        cancelBubble = cancelBubble || invoke(mouseEnterCallback, [lastFound]);\n      } else if (node === null && lastFound !== node) {\n        cancelBubble = cancelBubble || invoke(mouseLeaveCallback, [lastFound]);\n        lastFound = null;\n      }\n      if (cancelBubble) {\n        stopPropagation(e);\n      }\n    });\n    root.addEventListener('mousedown', function (e) {\n      var cancelBubble = false,\n        args;\n      updateBoundRect();\n      pos.x = e.clientX - boundRect.left;\n      pos.y = e.clientY - boundRect.top;\n      args = [getNodeAtClientPos(pos), e];\n      if (args[0]) {\n        cancelBubble = invoke(mouseDownCallback, args);\n        // we clicked on a node. Following drag should be handled on document events:\n        documentEvents.on('mousemove', handleMouseMove);\n        documentEvents.on('mouseup', handleMouseUp);\n        prevSelectStart = window.document.onselectstart;\n        window.document.onselectstart = handleDisabledEvent;\n        lastFound = args[0];\n      } else {\n        lastFound = null;\n      }\n      if (cancelBubble) {\n        stopPropagation(e);\n      }\n    });\n    root.addEventListener('mouseup', function (e) {\n      var clickTime = +new Date(),\n        args;\n      pos.x = e.clientX - boundRect.left;\n      pos.y = e.clientY - boundRect.top;\n      var nodeAtClientPos = getNodeAtClientPos(pos);\n      var sameNode = nodeAtClientPos === lastFound;\n      args = [nodeAtClientPos || lastFound, e];\n      if (args[0]) {\n        window.document.onselectstart = prevSelectStart;\n        if (clickTime - lastClickTime < 400 && sameNode) {\n          invoke(dblClickCallback, args);\n        } else {\n          invoke(clickCallback, args);\n        }\n        lastClickTime = clickTime;\n        if (invoke(mouseUpCallback, args)) {\n          stopPropagation(e);\n        }\n      }\n    });\n  }\n}","map":{"version":3,"names":["documentEvents","require","module","exports","webglInputEvents","webglGraphics","mouseCapturedNode","mouseEnterCallback","mouseLeaveCallback","mouseDownCallback","mouseUpCallback","mouseMoveCallback","clickCallback","dblClickCallback","prevSelectStart","boundRect","root","getGraphicsRoot","startListen","api","mouseEnter","mouseLeave","mouseDown","mouseUp","mouseMove","click","dblClick","mouseCapture","releaseMouseCapture","node","callback","push","preciseCheck","nodeUI","x","y","size","pos","position","half","getNodeAtClientPos","stopPropagation","e","cancelBubble","handleDisabledEvent","invoke","callbacksChain","args","i","length","apply","undefined","lastFound","lastUpdate","lastClickTime","Date","handleMouseMove","clientX","clientY","handleMouseUp","off","updateBoundRect","getBoundingClientRect","window","addEventListener","left","top","on","document","onselectstart","clickTime","nodeAtClientPos","sameNode"],"sources":["/Users/zamanlh/github/MMM_Worksheets/networksir/node_modules/vivagraphjs/src/WebGL/webglInputEvents.js"],"sourcesContent":["var documentEvents = require('../Utils/documentEvents.js');\n\nmodule.exports = webglInputEvents;\n\n/**\n * Monitors graph-related mouse input in webgl graphics and notifies subscribers.\n *\n * @param {Viva.Graph.View.webglGraphics} webglGraphics\n */\nfunction webglInputEvents(webglGraphics) {\n  if (webglGraphics.webglInputEvents) {\n    // Don't listen twice, if we are already attached to this graphics:\n    return webglGraphics.webglInputEvents;\n  }\n\n  var mouseCapturedNode = null,\n    mouseEnterCallback = [],\n    mouseLeaveCallback = [],\n    mouseDownCallback = [],\n    mouseUpCallback = [],\n    mouseMoveCallback = [],\n    clickCallback = [],\n    dblClickCallback = [],\n    prevSelectStart,\n    boundRect;\n\n  var root = webglGraphics.getGraphicsRoot();\n  startListen(root);\n\n  var api = {\n    mouseEnter: mouseEnter,\n    mouseLeave: mouseLeave,\n    mouseDown: mouseDown,\n    mouseUp: mouseUp,\n    mouseMove: mouseMove,\n    click: click,\n    dblClick: dblClick,\n    mouseCapture: mouseCapture,\n    releaseMouseCapture: releaseMouseCapture\n  };\n\n  // TODO I don't remember why this is needed:\n  webglGraphics.webglInputEvents = api;\n\n  return api;\n\n  function releaseMouseCapture() {\n    mouseCapturedNode = null;\n  }\n\n  function mouseCapture(node) {\n    mouseCapturedNode = node;\n  }\n\n  function dblClick(callback) {\n    if (typeof callback === 'function') {\n      dblClickCallback.push(callback);\n    }\n    return api;\n  }\n\n  function click(callback) {\n    if (typeof callback === 'function') {\n      clickCallback.push(callback);\n    }\n    return api;\n  }\n\n  function mouseMove(callback) {\n    if (typeof callback === 'function') {\n      mouseMoveCallback.push(callback);\n    }\n    return api;\n  }\n\n  function mouseUp(callback) {\n    if (typeof callback === 'function') {\n      mouseUpCallback.push(callback);\n    }\n    return api;\n  }\n\n  function mouseDown(callback) {\n    if (typeof callback === 'function') {\n      mouseDownCallback.push(callback);\n    }\n    return api;\n  }\n\n  function mouseLeave(callback) {\n    if (typeof callback === 'function') {\n      mouseLeaveCallback.push(callback);\n    }\n    return api;\n  }\n\n  function mouseEnter(callback) {\n    if (typeof callback === 'function') {\n      mouseEnterCallback.push(callback);\n    }\n    return api;\n  }\n\n  function preciseCheck(nodeUI, x, y) {\n    if (nodeUI && nodeUI.size) {\n      var pos = nodeUI.position,\n        half = nodeUI.size;\n\n      return pos.x - half < x && x < pos.x + half &&\n        pos.y - half < y && y < pos.y + half;\n    }\n\n    return true;\n  }\n\n  function getNodeAtClientPos(pos) {\n    return webglGraphics.getNodeAtClientPos(pos, preciseCheck);\n  }\n\n  function stopPropagation(e) {\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      e.cancelBubble = true;\n    }\n  }\n\n  function handleDisabledEvent(e) {\n    stopPropagation(e);\n    return false;\n  }\n\n  function invoke(callbacksChain, args) {\n    var i, stopPropagation;\n    for (i = 0; i < callbacksChain.length; i += 1) {\n      stopPropagation = callbacksChain[i].apply(undefined, args);\n      if (stopPropagation) {\n        return true;\n      }\n    }\n  }\n\n  function startListen(root) {\n    var pos = {\n        x: 0,\n        y: 0\n      },\n      lastFound = null,\n      lastUpdate = 1,\n      lastClickTime = +new Date(),\n\n      handleMouseMove = function(e) {\n        invoke(mouseMoveCallback, [lastFound, e]);\n        pos.x = e.clientX;\n        pos.y = e.clientY;\n      },\n\n      handleMouseUp = function() {\n        documentEvents.off('mousemove', handleMouseMove);\n        documentEvents.off('mouseup', handleMouseUp);\n      },\n\n      updateBoundRect = function() {\n        boundRect = root.getBoundingClientRect();\n      };\n\n    window.addEventListener('resize', updateBoundRect);\n    updateBoundRect();\n\n    // mouse move inside container serves only to track mouse enter/leave events.\n    root.addEventListener('mousemove',\n      function(e) {\n        if (mouseCapturedNode) {\n          return;\n        }\n        if (lastUpdate++ % 7 === 0) {\n          // since there is no bullet proof method to detect resize\n          // event, we preemptively update the bounding rectangle\n          updateBoundRect();\n          lastUpdate = 1;\n        }\n        var cancelBubble = false,\n          node;\n\n        pos.x = e.clientX - boundRect.left;\n        pos.y = e.clientY - boundRect.top;\n\n        node = getNodeAtClientPos(pos);\n\n        if (node && lastFound !== node) {\n          if(lastFound){ \n            invoke(mouseLeaveCallback, [lastFound]);\n          }\n          lastFound = node;\n          cancelBubble = cancelBubble || invoke(mouseEnterCallback, [lastFound]);\n        } else if (node === null && lastFound !== node) {\n          cancelBubble = cancelBubble || invoke(mouseLeaveCallback, [lastFound]);\n          lastFound = null;\n        }\n\n        if (cancelBubble) {\n          stopPropagation(e);\n        }\n      });\n\n    root.addEventListener('mousedown',\n      function(e) {\n        var cancelBubble = false,\n          args;\n        updateBoundRect();\n        pos.x = e.clientX - boundRect.left;\n        pos.y = e.clientY - boundRect.top;\n\n        args = [getNodeAtClientPos(pos), e];\n        if (args[0]) {\n          cancelBubble = invoke(mouseDownCallback, args);\n          // we clicked on a node. Following drag should be handled on document events:\n          documentEvents.on('mousemove', handleMouseMove);\n          documentEvents.on('mouseup', handleMouseUp);\n\n          prevSelectStart = window.document.onselectstart;\n\n          window.document.onselectstart = handleDisabledEvent;\n\n          lastFound = args[0];\n        } else {\n          lastFound = null;\n        }\n        if (cancelBubble) {\n          stopPropagation(e);\n        }\n      });\n\n    root.addEventListener('mouseup',\n      function(e) {\n        var clickTime = +new Date(),\n          args;\n\n        pos.x = e.clientX - boundRect.left;\n        pos.y = e.clientY - boundRect.top;\n\n        var nodeAtClientPos = getNodeAtClientPos(pos);\n        var sameNode = nodeAtClientPos === lastFound;\n        args = [nodeAtClientPos || lastFound, e];\n        if (args[0]) {\n          window.document.onselectstart = prevSelectStart;\n\n          if (clickTime - lastClickTime < 400 && sameNode) {\n            invoke(dblClickCallback, args);\n          } else {\n            invoke(clickCallback, args);\n          }\n          lastClickTime = clickTime;\n\n          if (invoke(mouseUpCallback, args)) {\n            stopPropagation(e);\n          }\n        }\n      });\n  }\n}\n"],"mappings":"AAAA,IAAIA,cAAc,GAAGC,OAAO,CAAC,4BAA4B,CAAC;AAE1DC,MAAM,CAACC,OAAO,GAAGC,gBAAgB;;AAEjC;AACA;AACA;AACA;AACA;AACA,SAASA,gBAAgBA,CAACC,aAAa,EAAE;EACvC,IAAIA,aAAa,CAACD,gBAAgB,EAAE;IAClC;IACA,OAAOC,aAAa,CAACD,gBAAgB;EACvC;EAEA,IAAIE,iBAAiB,GAAG,IAAI;IAC1BC,kBAAkB,GAAG,EAAE;IACvBC,kBAAkB,GAAG,EAAE;IACvBC,iBAAiB,GAAG,EAAE;IACtBC,eAAe,GAAG,EAAE;IACpBC,iBAAiB,GAAG,EAAE;IACtBC,aAAa,GAAG,EAAE;IAClBC,gBAAgB,GAAG,EAAE;IACrBC,eAAe;IACfC,SAAS;EAEX,IAAIC,IAAI,GAAGX,aAAa,CAACY,eAAe,EAAE;EAC1CC,WAAW,CAACF,IAAI,CAAC;EAEjB,IAAIG,GAAG,GAAG;IACRC,UAAU,EAAEA,UAAU;IACtBC,UAAU,EAAEA,UAAU;IACtBC,SAAS,EAAEA,SAAS;IACpBC,OAAO,EAAEA,OAAO;IAChBC,SAAS,EAAEA,SAAS;IACpBC,KAAK,EAAEA,KAAK;IACZC,QAAQ,EAAEA,QAAQ;IAClBC,YAAY,EAAEA,YAAY;IAC1BC,mBAAmB,EAAEA;EACvB,CAAC;;EAED;EACAvB,aAAa,CAACD,gBAAgB,GAAGe,GAAG;EAEpC,OAAOA,GAAG;EAEV,SAASS,mBAAmBA,CAAA,EAAG;IAC7BtB,iBAAiB,GAAG,IAAI;EAC1B;EAEA,SAASqB,YAAYA,CAACE,IAAI,EAAE;IAC1BvB,iBAAiB,GAAGuB,IAAI;EAC1B;EAEA,SAASH,QAAQA,CAACI,QAAQ,EAAE;IAC1B,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAClCjB,gBAAgB,CAACkB,IAAI,CAACD,QAAQ,CAAC;IACjC;IACA,OAAOX,GAAG;EACZ;EAEA,SAASM,KAAKA,CAACK,QAAQ,EAAE;IACvB,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAClClB,aAAa,CAACmB,IAAI,CAACD,QAAQ,CAAC;IAC9B;IACA,OAAOX,GAAG;EACZ;EAEA,SAASK,SAASA,CAACM,QAAQ,EAAE;IAC3B,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAClCnB,iBAAiB,CAACoB,IAAI,CAACD,QAAQ,CAAC;IAClC;IACA,OAAOX,GAAG;EACZ;EAEA,SAASI,OAAOA,CAACO,QAAQ,EAAE;IACzB,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAClCpB,eAAe,CAACqB,IAAI,CAACD,QAAQ,CAAC;IAChC;IACA,OAAOX,GAAG;EACZ;EAEA,SAASG,SAASA,CAACQ,QAAQ,EAAE;IAC3B,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAClCrB,iBAAiB,CAACsB,IAAI,CAACD,QAAQ,CAAC;IAClC;IACA,OAAOX,GAAG;EACZ;EAEA,SAASE,UAAUA,CAACS,QAAQ,EAAE;IAC5B,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAClCtB,kBAAkB,CAACuB,IAAI,CAACD,QAAQ,CAAC;IACnC;IACA,OAAOX,GAAG;EACZ;EAEA,SAASC,UAAUA,CAACU,QAAQ,EAAE;IAC5B,IAAI,OAAOA,QAAQ,KAAK,UAAU,EAAE;MAClCvB,kBAAkB,CAACwB,IAAI,CAACD,QAAQ,CAAC;IACnC;IACA,OAAOX,GAAG;EACZ;EAEA,SAASa,YAAYA,CAACC,MAAM,EAAEC,CAAC,EAAEC,CAAC,EAAE;IAClC,IAAIF,MAAM,IAAIA,MAAM,CAACG,IAAI,EAAE;MACzB,IAAIC,GAAG,GAAGJ,MAAM,CAACK,QAAQ;QACvBC,IAAI,GAAGN,MAAM,CAACG,IAAI;MAEpB,OAAOC,GAAG,CAACH,CAAC,GAAGK,IAAI,GAAGL,CAAC,IAAIA,CAAC,GAAGG,GAAG,CAACH,CAAC,GAAGK,IAAI,IACzCF,GAAG,CAACF,CAAC,GAAGI,IAAI,GAAGJ,CAAC,IAAIA,CAAC,GAAGE,GAAG,CAACF,CAAC,GAAGI,IAAI;IACxC;IAEA,OAAO,IAAI;EACb;EAEA,SAASC,kBAAkBA,CAACH,GAAG,EAAE;IAC/B,OAAOhC,aAAa,CAACmC,kBAAkB,CAACH,GAAG,EAAEL,YAAY,CAAC;EAC5D;EAEA,SAASS,eAAeA,CAACC,CAAC,EAAE;IAC1B,IAAIA,CAAC,CAACD,eAAe,EAAE;MACrBC,CAAC,CAACD,eAAe,EAAE;IACrB,CAAC,MAAM;MACLC,CAAC,CAACC,YAAY,GAAG,IAAI;IACvB;EACF;EAEA,SAASC,mBAAmBA,CAACF,CAAC,EAAE;IAC9BD,eAAe,CAACC,CAAC,CAAC;IAClB,OAAO,KAAK;EACd;EAEA,SAASG,MAAMA,CAACC,cAAc,EAAEC,IAAI,EAAE;IACpC,IAAIC,CAAC,EAAEP,eAAe;IACtB,KAAKO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,cAAc,CAACG,MAAM,EAAED,CAAC,IAAI,CAAC,EAAE;MAC7CP,eAAe,GAAGK,cAAc,CAACE,CAAC,CAAC,CAACE,KAAK,CAACC,SAAS,EAAEJ,IAAI,CAAC;MAC1D,IAAIN,eAAe,EAAE;QACnB,OAAO,IAAI;MACb;IACF;EACF;EAEA,SAASvB,WAAWA,CAACF,IAAI,EAAE;IACzB,IAAIqB,GAAG,GAAG;QACNH,CAAC,EAAE,CAAC;QACJC,CAAC,EAAE;MACL,CAAC;MACDiB,SAAS,GAAG,IAAI;MAChBC,UAAU,GAAG,CAAC;MACdC,aAAa,GAAG,CAAC,IAAIC,IAAI,EAAE;MAE3BC,eAAe,GAAG,SAAAA,CAASd,CAAC,EAAE;QAC5BG,MAAM,CAAClC,iBAAiB,EAAE,CAACyC,SAAS,EAAEV,CAAC,CAAC,CAAC;QACzCL,GAAG,CAACH,CAAC,GAAGQ,CAAC,CAACe,OAAO;QACjBpB,GAAG,CAACF,CAAC,GAAGO,CAAC,CAACgB,OAAO;MACnB,CAAC;MAEDC,aAAa,GAAG,SAAAA,CAAA,EAAW;QACzB3D,cAAc,CAAC4D,GAAG,CAAC,WAAW,EAAEJ,eAAe,CAAC;QAChDxD,cAAc,CAAC4D,GAAG,CAAC,SAAS,EAAED,aAAa,CAAC;MAC9C,CAAC;MAEDE,eAAe,GAAG,SAAAA,CAAA,EAAW;QAC3B9C,SAAS,GAAGC,IAAI,CAAC8C,qBAAqB,EAAE;MAC1C,CAAC;IAEHC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEH,eAAe,CAAC;IAClDA,eAAe,EAAE;;IAEjB;IACA7C,IAAI,CAACgD,gBAAgB,CAAC,WAAW,EAC/B,UAAStB,CAAC,EAAE;MACV,IAAIpC,iBAAiB,EAAE;QACrB;MACF;MACA,IAAI+C,UAAU,EAAE,GAAG,CAAC,KAAK,CAAC,EAAE;QAC1B;QACA;QACAQ,eAAe,EAAE;QACjBR,UAAU,GAAG,CAAC;MAChB;MACA,IAAIV,YAAY,GAAG,KAAK;QACtBd,IAAI;MAENQ,GAAG,CAACH,CAAC,GAAGQ,CAAC,CAACe,OAAO,GAAG1C,SAAS,CAACkD,IAAI;MAClC5B,GAAG,CAACF,CAAC,GAAGO,CAAC,CAACgB,OAAO,GAAG3C,SAAS,CAACmD,GAAG;MAEjCrC,IAAI,GAAGW,kBAAkB,CAACH,GAAG,CAAC;MAE9B,IAAIR,IAAI,IAAIuB,SAAS,KAAKvB,IAAI,EAAE;QAC9B,IAAGuB,SAAS,EAAC;UACXP,MAAM,CAACrC,kBAAkB,EAAE,CAAC4C,SAAS,CAAC,CAAC;QACzC;QACAA,SAAS,GAAGvB,IAAI;QAChBc,YAAY,GAAGA,YAAY,IAAIE,MAAM,CAACtC,kBAAkB,EAAE,CAAC6C,SAAS,CAAC,CAAC;MACxE,CAAC,MAAM,IAAIvB,IAAI,KAAK,IAAI,IAAIuB,SAAS,KAAKvB,IAAI,EAAE;QAC9Cc,YAAY,GAAGA,YAAY,IAAIE,MAAM,CAACrC,kBAAkB,EAAE,CAAC4C,SAAS,CAAC,CAAC;QACtEA,SAAS,GAAG,IAAI;MAClB;MAEA,IAAIT,YAAY,EAAE;QAChBF,eAAe,CAACC,CAAC,CAAC;MACpB;IACF,CAAC,CAAC;IAEJ1B,IAAI,CAACgD,gBAAgB,CAAC,WAAW,EAC/B,UAAStB,CAAC,EAAE;MACV,IAAIC,YAAY,GAAG,KAAK;QACtBI,IAAI;MACNc,eAAe,EAAE;MACjBxB,GAAG,CAACH,CAAC,GAAGQ,CAAC,CAACe,OAAO,GAAG1C,SAAS,CAACkD,IAAI;MAClC5B,GAAG,CAACF,CAAC,GAAGO,CAAC,CAACgB,OAAO,GAAG3C,SAAS,CAACmD,GAAG;MAEjCnB,IAAI,GAAG,CAACP,kBAAkB,CAACH,GAAG,CAAC,EAAEK,CAAC,CAAC;MACnC,IAAIK,IAAI,CAAC,CAAC,CAAC,EAAE;QACXJ,YAAY,GAAGE,MAAM,CAACpC,iBAAiB,EAAEsC,IAAI,CAAC;QAC9C;QACA/C,cAAc,CAACmE,EAAE,CAAC,WAAW,EAAEX,eAAe,CAAC;QAC/CxD,cAAc,CAACmE,EAAE,CAAC,SAAS,EAAER,aAAa,CAAC;QAE3C7C,eAAe,GAAGiD,MAAM,CAACK,QAAQ,CAACC,aAAa;QAE/CN,MAAM,CAACK,QAAQ,CAACC,aAAa,GAAGzB,mBAAmB;QAEnDQ,SAAS,GAAGL,IAAI,CAAC,CAAC,CAAC;MACrB,CAAC,MAAM;QACLK,SAAS,GAAG,IAAI;MAClB;MACA,IAAIT,YAAY,EAAE;QAChBF,eAAe,CAACC,CAAC,CAAC;MACpB;IACF,CAAC,CAAC;IAEJ1B,IAAI,CAACgD,gBAAgB,CAAC,SAAS,EAC7B,UAAStB,CAAC,EAAE;MACV,IAAI4B,SAAS,GAAG,CAAC,IAAIf,IAAI,EAAE;QACzBR,IAAI;MAENV,GAAG,CAACH,CAAC,GAAGQ,CAAC,CAACe,OAAO,GAAG1C,SAAS,CAACkD,IAAI;MAClC5B,GAAG,CAACF,CAAC,GAAGO,CAAC,CAACgB,OAAO,GAAG3C,SAAS,CAACmD,GAAG;MAEjC,IAAIK,eAAe,GAAG/B,kBAAkB,CAACH,GAAG,CAAC;MAC7C,IAAImC,QAAQ,GAAGD,eAAe,KAAKnB,SAAS;MAC5CL,IAAI,GAAG,CAACwB,eAAe,IAAInB,SAAS,EAAEV,CAAC,CAAC;MACxC,IAAIK,IAAI,CAAC,CAAC,CAAC,EAAE;QACXgB,MAAM,CAACK,QAAQ,CAACC,aAAa,GAAGvD,eAAe;QAE/C,IAAIwD,SAAS,GAAGhB,aAAa,GAAG,GAAG,IAAIkB,QAAQ,EAAE;UAC/C3B,MAAM,CAAChC,gBAAgB,EAAEkC,IAAI,CAAC;QAChC,CAAC,MAAM;UACLF,MAAM,CAACjC,aAAa,EAAEmC,IAAI,CAAC;QAC7B;QACAO,aAAa,GAAGgB,SAAS;QAEzB,IAAIzB,MAAM,CAACnC,eAAe,EAAEqC,IAAI,CAAC,EAAE;UACjCN,eAAe,CAACC,CAAC,CAAC;QACpB;MACF;IACF,CAAC,CAAC;EACN;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}